<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Shopping Cart</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://bootswatch.com/yeti/bootstrap.min.css">
    <style>
        body{
            padding-bottom: 100px;
        }
        .form-group{
          padding: 30px 0px;
        }
    </style>
</head>
<body>

<% include partials/navbar.ejs %>

<div class="container">

<form action="/checkout" method="post">
<div class="col-md-8 col-sm-8 col-xs-12">
  <div class="panel panel-default">
    <div class="panel-body">
      <h2 align="center">Shipping Details</h2>
        <div class="form-group">
          <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
            <label for="Name">Name:</label>
          </div>
          <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
            <input type="text" class="form-control" name="Name" placeholder="Name" required />
          </div>
        </div>

        <div class="form-group">
          <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
            <label for="email">Email:</label>
          </div>
          <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
            <input type="email" class="form-control" name="email" placeholder="Email address" required />
          </div>
        </div>

        <div class="form-group">
          <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
            <label for="contact">Contact Number:</label>
          </div>
          <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
            <input type="number" class="form-control" name="contact" placeholder="Contact Number" required />
          </div>
        </div>

        <div class="form-group">
          <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
            <label for="address">Address:</label>
          </div>
          <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
            <input type="text" class="form-control" name="address" placeholder="Shipping Address" required />
          </div>
        </div>

        <div class="form-group">
          <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
            <label for="pin">Postal Code:</label>
          </div>
          <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
            <input type="number" class="form-control" name="pin" placeholder="Postal Code" required />
          </div>
        </div>


    </div>
  </div>

</div>

<div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">

<div class="panel panel-default">
  <div class="panel-body">
    <h2 align=center>Your Order</h2>
    <div class="well well-primary">
      <h4>Items:</h4>
      <% var total =0;
      for(i=0;i<products.length;i++){
        total += products[i].Price  %>
        <p><%=i + 1%>. <%=products[i].Title %></p>
      <% } %>
    </div>
    <div class="well well-primary">
      <p>Sub Total: <b>$<%= total %></b></p>
      <p>Shipping: <b>$0</b></p>

        <p style="font-size: 15px;">Total: <b>$<%= total%></b></p>

      <input type="submit" class="btn btn-warning" value="Place Order" />
    </div>
  </div>
</div>

</div>

  <div id="dropin-container"></div>

</form>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Load the Client component. -->
<script src="https://js.braintreegateway.com/js/braintree-2.31.0.min.js"></script>

<script type="text/javascript">
  braintree.setup('<%= token %>', 'dropin', {
    container: 'dropin-container',
  });
</script>

</body>
</html>
